<UserControl x:Class="GCS.Views.DataTabView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:GCS"
             mc:Ignorable="d" 
             d:DesignHeight="500" d:DesignWidth="480">
    
    <UserControl.Resources>
        <local:BatteryColorConverter x:Key="BatteryColorConverter"/>
        
        <SolidColorBrush x:Key="CardBackground" Color="#1C2128"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#2D333D"/>
        <SolidColorBrush x:Key="PrimaryText" Color="#E6EDF3"/>
        <SolidColorBrush x:Key="SecondaryText" Color="#8B949E"/>
        <SolidColorBrush x:Key="AccentCyan" Color="#39D0D8"/>
        
        <Style x:Key="DataCard" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBackground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="12"/>
            <Setter Property="Margin" Value="5"/>
        </Style>
        
        <Style x:Key="Label" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource SecondaryText}"/>
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>
        
        <Style x:Key="Value" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource PrimaryText}"/>
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontFamily" Value="Consolas"/>
        </Style>
        
        <Style x:Key="Unit" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource AccentCyan}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="VerticalAlignment" Value="Bottom"/>
            <Setter Property="Margin" Value="4,0,0,2"/>
        </Style>
    </UserControl.Resources>

    <StackPanel Margin="5">
        
        <!-- SPEED & ALTITUDE -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <Border Grid.Column="0" Style="{StaticResource DataCard}">
                <StackPanel>
                    <TextBlock Text="GROUNDSPEED" Style="{StaticResource Label}"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Groundspeed, StringFormat=F1}" Style="{StaticResource Value}"/>
                        <TextBlock Text="m/s" Style="{StaticResource Unit}"/>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <Border Grid.Column="1" Style="{StaticResource DataCard}">
                <StackPanel>
                    <TextBlock Text="ALTITUDE (MSL)" Style="{StaticResource Label}"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Altitude, StringFormat=F0}" Style="{StaticResource Value}"/>
                        <TextBlock Text="m" Style="{StaticResource Unit}"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>

        <!-- HEADING & CLIMB -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <Border Grid.Column="0" Style="{StaticResource DataCard}">
                <StackPanel>
                    <TextBlock Text="HEADING" Style="{StaticResource Label}"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Heading, StringFormat=F0}" Style="{StaticResource Value}"/>
                        <TextBlock Text="Â°" Style="{StaticResource Unit}"/>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <Border Grid.Column="1" Style="{StaticResource DataCard}">
                <StackPanel>
                    <TextBlock Text="CLIMB RATE" Style="{StaticResource Label}"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding ClimbRate, StringFormat=F1}" Style="{StaticResource Value}"/>
                        <TextBlock Text="m/s" Style="{StaticResource Unit}"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>

        <!-- AIRSPEED -->
        <Border Style="{StaticResource DataCard}">
            <StackPanel>
                <TextBlock Text="AIRSPEED" Style="{StaticResource Label}"/>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="{Binding Airspeed, StringFormat=F1}" Style="{StaticResource Value}"/>
                    <TextBlock Text="m/s" Style="{StaticResource Unit}"/>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- BATTERY -->
        <Border Style="{StaticResource DataCard}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="VOLTAGE" Style="{StaticResource Label}"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Voltage, StringFormat=F2}" 
                                  Style="{StaticResource Value}" FontSize="20"/>
                        <TextBlock Text="V" Style="{StaticResource Unit}"/>
                    </StackPanel>
                </StackPanel>
                
                <StackPanel Grid.Column="1">
                    <TextBlock Text="CURRENT" Style="{StaticResource Label}"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding Current, StringFormat=F1}" 
                                  Style="{StaticResource Value}" FontSize="20"/>
                        <TextBlock Text="A" Style="{StaticResource Unit}"/>
                    </StackPanel>
                </StackPanel>
                
                <StackPanel Grid.Column="2">
                    <TextBlock Text="REMAINING" Style="{StaticResource Label}"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding BatteryRemaining}" 
                                  Style="{StaticResource Value}" FontSize="20">
                            <TextBlock.Foreground>
                                <SolidColorBrush>
                                    <SolidColorBrush.Color>
                                        <Binding Path="BatteryRemaining" Converter="{StaticResource BatteryColorConverter}"/>
                                    </SolidColorBrush.Color>
                                </SolidColorBrush>
                            </TextBlock.Foreground>
                        </TextBlock>
                        <TextBlock Text="%" Style="{StaticResource Unit}"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>

        <!-- GPS COORDINATES -->
        <Border Style="{StaticResource DataCard}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="LATITUDE" Style="{StaticResource Label}"/>
                    <TextBlock Text="{Binding Latitude, StringFormat=F6}" 
                              Foreground="{StaticResource PrimaryText}"
                              FontSize="15"
                              FontWeight="SemiBold"
                              FontFamily="Consolas"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1">
                    <TextBlock Text="LONGITUDE" Style="{StaticResource Label}"/>
                    <TextBlock Text="{Binding Longitude, StringFormat=F6}" 
                              Foreground="{StaticResource PrimaryText}"
                              FontSize="15"
                              FontWeight="SemiBold"
                              FontFamily="Consolas"/>
                </StackPanel>
            </Grid>
        </Border>

    </StackPanel>
</UserControl>
